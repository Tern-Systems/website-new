<UserControl x:Name="Root" x:Class="btmc.src.ui.forms.main.BaseConverter"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="800"
             Background="#FF2E2E2E">


    <UserControl.Resources>
        <FontFamily x:Key="AdobeGothicBold">pack://application:,,,/assets/fonts/AdobeGothic-Bold.otf#Adobe Gothic Std B</FontFamily>
        <FontFamily x:Key="AdobeGothicLight">pack://application:,,,/assets/fonts/AdobeGothic-Light.otf#Adobe Gothic Std L</FontFamily>
        <FontFamily x:Key="MonoLisaRegular">pack://application:,,,/assets/fonts/MonoLisa-Regular.otf#MonoLisa Nerd Font Mono</FontFamily>

        <Style x:Key="RoundedComboBox" TargetType="ComboBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#4B4B4B"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="25"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.CanContentScroll" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Border x:Name="Border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="3">
                                <Grid>
                                    <ContentPresenter Name="ContentSite"
                                                      IsHitTestVisible="False"
                                                      Content="{TemplateBinding SelectionBoxItem}"
                                                      ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Left"
                                                      Margin="8,0,30,0"/>
                                    <ToggleButton DockPanel.Dock="Right"
                                                  Focusable="False"
                                                  IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                  Background="Transparent"
                                                  BorderBrush="{TemplateBinding BorderBrush}"
                                                  BorderThickness="0"
                                                  HorizontalAlignment="Right"
                                                  Width="20"
                                                  Margin="0,0,6,0">
                                        <Path Data="M 0 0 L 4 4 L 8 0 Z"
                                              Fill="White"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                                    </ToggleButton>
                                </Grid>
                            </Border>
                            <Popup Name="Popup"
                                   Placement="Bottom"
                                   IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Slide">
                                <Grid Name="DropDown"
                                      SnapsToDevicePixels="True"
                                      MinWidth="{TemplateBinding ActualWidth}"
                                      MaxHeight="200"
                                      Background="#4B4B4B">
                                    <Border CornerRadius="10"
                                            BorderBrush="White"
                                            BorderThickness="1"
                                            Background="#4B4B4B">
                                        <ScrollViewer Margin="4" SnapsToDevicePixels="True">
                                            <StackPanel IsItemsHost="True"
                                                        KeyboardNavigation.DirectionalNavigation="Contained"/>
                                        </ScrollViewer>
                                    </Border>
                                </Grid>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="Gray"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#00A3FF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Toggle Switch Container Style -->
       <Style x:Key="ToggleContainerStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="#3A3A3A"/>
            <Setter Property="Padding" Value="2"/>
        </Style>

        <!-- Toggle Button Style inside container -->
        <Style x:Key="TogglePillInContainer" TargetType="ToggleButton">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="ToggleBorder"
                                CornerRadius="15"
                                Width="80"
                                Background="{TemplateBinding Background}"
                                Padding="10,4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="ToggleBorder" Property="Background" Value="#888"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header with Toggle -->
        <StackPanel Grid.Row="0" Margin="0,20">
            <TextBlock Text="Low-Level Language Calculator" Foreground="White" FontSize="18"
                       FontFamily="{StaticResource AdobeGothicBold}" HorizontalAlignment="Left" Margin="0,0,0,4"/>
            <Separator Background="White" Height="1" Margin="0,0,0,10"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Border Style="{StaticResource ToggleContainerStyle}" HorizontalAlignment="Center" Margin="10,0,0,0" Grid.Column="0">
                    <StackPanel Orientation="Horizontal">
                        <ToggleButton x:Name="BTMCToggle" Content="BTMC" IsChecked="True"
                                      Checked="BTMCToggle_Checked" Style="{StaticResource TogglePillInContainer}"
                                      FontFamily="{StaticResource MonoLisaRegular}"/>
                        <ToggleButton x:Name="TERNToggle" Content="TERN" Checked="TERNToggle_Checked"
                                      Style="{StaticResource TogglePillInContainer}"
                                      FontFamily="{StaticResource MonoLisaRegular}"/>
                    </StackPanel>
                </Border>
                <Border Width="25" Height="25" Margin="10,0,20,0" HorizontalAlignment="Right" Grid.Column="1">
                    <Image Source="/assets/icons/broom.png" Width="20" Height="20" Cursor="Hand" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
            </Grid>
        </StackPanel>

        <!-- Main content container -->
        <Grid Grid.Row="1">
            <!-- BTMC Layout -->
            <StackPanel x:Name="BTMCLayout" Visibility="Visible" HorizontalAlignment="Center">
                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="80,20" HorizontalAlignment="Center">
                    <TextBlock Text="Input:" Width="50"  VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource AdobeGothicLight}"/>
                    <ComboBox Style="{StaticResource RoundedComboBox}" SelectedIndex="0" FontFamily="{StaticResource AdobeGothicLight}">
                        <ComboBoxItem Content="select"/>
                        <ComboBoxItem Content="Hex"/>
                        <ComboBoxItem Content="Decimal"/>
                        <ComboBoxItem Content="Binary"/>
                        <ComboBoxItem Content="Oct"/>
                    </ComboBox>
                    <Border Grid.Column="2" Width="250" Height="25" CornerRadius="4" Background="#4B4B4B" BorderBrush="White" BorderThickness="1" Margin="10,0,0,0">
                        <Grid>
                            <TextBox x:Name="InputTextBox" Background="Transparent" BorderThickness="0" Foreground="Gray" Padding="8,0,60,0" VerticalContentAlignment="Center" Text="input..." FontFamily="{StaticResource AdobeGothicLight}" />
                            <Image Source="/assets/Icons/copy.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="30,0,25,0" Cursor="Hand"/>
                            <Image Source="/assets/Icons/paste.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0" Cursor="Hand"/>
                        </Grid>
                    </Border>
                </StackPanel>
                <Border Grid.Row="2"
                        Width="25" Height="25"
                        CornerRadius="0"
                        Background="#4B4B4B"
                        BorderBrush="White"
                        BorderThickness="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                    <Canvas Width="20" Height="20" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Path Stroke="White" StrokeThickness="2" Data="M 5 0 L 5 12 M 5 12 L 2 9 M 5 12 L 8 9"/>
                        <Path Stroke="White" StrokeThickness="2" Data="M 15 20 L 15 8 M 15 8 L 12 11 M 15 8 L 18 11"/>
                    </Canvas>
                </Border>

                <!-- Output Row -->
                <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="80,20" HorizontalAlignment="Center">
                    <TextBlock Text="Output:" Width="50" VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource AdobeGothicLight}"/>
                    <ComboBox Style="{StaticResource RoundedComboBox}" SelectedIndex="0" FontFamily="{StaticResource AdobeGothicLight}">
                        <ComboBoxItem Content="select"/>
                        <ComboBoxItem Content="Hex"/>
                        <ComboBoxItem Content="Decimal"/>
                        <ComboBoxItem Content="Binary"/>
                        <ComboBoxItem Content="Oct"/>
                    </ComboBox>
                    <Border Grid.Column="2" Width="250" Height="25" CornerRadius="4" Background="#4B4B4B" BorderBrush="White" BorderThickness="1" Margin="10,0,0,0">
                        <Grid>
                            <TextBox x:Name="OutputTextBox" Background="Transparent" BorderThickness="0" Foreground="Gray" Padding="8,0,60,0" VerticalContentAlignment="Center" Text="output..." FontFamily="/assets/fonts/AdobeGothic-Light.otf#Adobe Gothic Std L" />
                            <Image Source="/assets/Icons/copy.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="30,0,25,0" Cursor="Hand"/>
                            <Image Source="/assets/Icons/paste.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0" Cursor="Hand"/>
                        </Grid>
                    </Border>
                </StackPanel>


                
            </StackPanel>

            <!-- TERN Layout -->
            <StackPanel x:Name="TERNLayout" Visibility="Collapsed" HorizontalAlignment="Left">
                <StackPanel Orientation="Horizontal" Margin="50,0,10,0">
                    <TextBlock Text="Input 1:"  HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource AdobeGothicLight}" />
                    <Border Grid.Column="2" Width="500" Height="25" CornerRadius="4" Background="#4B4B4B" BorderBrush="White" BorderThickness="1" Margin="10,0,0,0">
                        <Grid>
                            <TextBox  Background="Transparent" BorderThickness="0" Foreground="Gray" Padding="8,0,60,0" VerticalContentAlignment="Center" Text="input1..." FontFamily="{StaticResource AdobeGothicLight}" />
                            <Image Source="/assets/Icons/copy.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="30,0,25,0" Cursor="Hand"/>
                            <Image Source="/assets/Icons/paste.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0" Cursor="Hand"/>
                        </Grid>
                    </Border>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,10" HorizontalAlignment="Center">
                    <TextBlock Text="Instruction:" Width="75" VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource AdobeGothicLight}" />
                    <ComboBox Width="140" Style="{StaticResource RoundedComboBox}" SelectedIndex="0" FontFamily="{StaticResource AdobeGothicLight}">
                        <ComboBoxItem Content="select"/>
                        <ComboBoxItem Content="ADD"/>
                        <ComboBoxItem Content="SUB"/>
                        <ComboBoxItem Content="MUL"/>
                        <ComboBoxItem Content="DIV"/>
                    </ComboBox>
                    <Border Grid.Row="2"
                            Width="25" Height="25"
                            CornerRadius="0"
                            Background="#4B4B4B"
                            BorderBrush="White"
                            BorderThickness="1"
                            Margin="20,0,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                        <Canvas Width="20" Height="20" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Path Stroke="White" StrokeThickness="2" Data="M 5 0 L 5 12 M 5 12 L 2 9 M 5 12 L 8 9"/>
                            <Path Stroke="White" StrokeThickness="2" Data="M 15 20 L 15 8 M 15 8 L 12 11 M 15 8 L 18 11"/>
                        </Canvas>
                    </Border>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="50,0,10,0">
                    <TextBlock Text="Input 2:"  HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource AdobeGothicLight}" />
                    <Border Grid.Column="2" Width="500" Height="25" CornerRadius="4" Background="#4B4B4B" BorderBrush="White" BorderThickness="1" Margin="10,0,0,0">
                        <Grid>
                            <TextBox  Background="Transparent" BorderThickness="0" Foreground="Gray" Padding="8,0,60,0" VerticalContentAlignment="Center" Text="input2..." FontFamily="{StaticResource AdobeGothicLight}" />
                            <Image Source="/assets/Icons/copy.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="30,0,25,0" Cursor="Hand"/>
                            <Image Source="/assets/Icons/paste.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0" Cursor="Hand"/>
                        </Grid>
                    </Border>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="50,30,10,0">
                    <TextBlock Text="Output:"  HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource AdobeGothicLight}" />
                    <Border Grid.Column="2" Width="500" Height="25" CornerRadius="4" Background="#4B4B4B" BorderBrush="White" BorderThickness="1" Margin="10,0,0,0">
                        <Grid>
                            <TextBox  Background="Transparent" BorderThickness="0" Foreground="Gray" Padding="6,0,60,0"  VerticalContentAlignment="Center" Text="output..." FontFamily="{StaticResource AdobeGothicLight}" />
                            <Image Source="/assets/Icons/copy.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="30,0,25,0" Cursor="Hand"/>
                            <Image Source="/assets/Icons/paste.png" Width="16" Height="13" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0" Cursor="Hand"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Convert Button -->
        <Button Grid.Row="2" Content="Convert" Width="100" Height="25" FontFamily="{StaticResource AdobeGothicBold}" FontWeight="Bold"
                HorizontalAlignment="Center" Margin="0,15,0,30" Background="#2483d8" Foreground="White" BorderBrush="Transparent" BorderThickness="0">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}" CornerRadius="15">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Button.Template>
        </Button>
    </Grid>
</UserControl>
