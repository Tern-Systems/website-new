<Window x:Class="btmc.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:btmc"
        xmlns:btmc="clr-namespace:btmc.src.ui.forms.main.tabs.T_BTMC"
        xmlns:tern="clr-namespace:btmc.src.ui.forms.main.tabs.T_TERN"
        xmlns:components="clr-namespace:btmc.src.ui.forms.main.components"
        xmlns:toolbox="clr-namespace:btmc.src.ui.resources.toolbox"
        mc:Ignorable="d"
        MouseDown="Window_MouseDown"
        Title="Converter"
        Width="780" Height="455"
        SizeToContent="Manual"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStyle="None"
        ResizeMode="CanResizeWithGrip"
        FontFamily="Adobe Gothic Std L">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/btmc;component/src/ui/forms/main/Form.style.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <sys:Double x:Key="ActionButton.Size">15</sys:Double>
        </ResourceDictionary>
    </Window.Resources>

    <!-- Outer border to give rounded corners and a border line -->
    <Border Background="{StaticResource Color.Gray.77}" CornerRadius="8" BorderBrush="#999999" BorderThickness="2">
        
        <!-- Main layout grid with 3 rows: Title bar, Tab toggles, Content area -->
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Title Bar (row 0) -->
            <Grid Grid.Row="0" Height="30" VerticalAlignment="Top">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- App Title -->
                <TextBlock Text="Low-Level Language Calculator" 
                           Foreground="{StaticResource Color.White}" 
                           FontFamily="{StaticResource FontFamily.Gothic}" 
                           FontSize="25" 
                           FontWeight="DemiBold"
                           VerticalAlignment="Center" 
                           Margin="10,0,0,0"/>
                
                <!-- Line under App Title -->
                <Border Height="2" Background="{StaticResource Color.Gray.179}" Grid.Row="0" Grid.ColumnSpan="2"
        Margin="1,0,9,-18" VerticalAlignment="Bottom"/>
                
                <!-- Window control buttons (Minimize & Close) -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Style="{StaticResource FlatButtonStyle}" 
                            FontFamily="Segoe MDL2 Assets" 
                            FontSize="12" 
                            Content="&#xE921;" 
                            Width="30" 
                            Height="30" 
                            ToolTip="Minimize"
                            Click="BtnMinimize_Click" Cursor="Hand"/>
                    <Button Style="{StaticResource FlatButtonStyle}" 
                            FontFamily="Segoe MDL2 Assets" 
                            FontSize="12" 
                            Content="&#xE8BB;" 
                            Width="30" 
                            Height="30" 
                            ToolTip="Close"
                            Click="BtnClose_Click" 
                            Cursor="Hand"/>
                </StackPanel>
            </Grid>

            <!-- Layout grid: Tab toggles, Clear button -->
            <Grid Grid.Row="1" Margin="0,44,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 🔘 Tab toggles (centered) -->
                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                    <TabControl x:Name="TcMain"
                                Style="{StaticResource TabControlToggleStyle}"
                                SelectionChanged="TcMain_SectionChanged"
                                Margin="0,20,0,0">
                        <TabItem Header="BTMC" FontFamily="{StaticResource FontFamily.Gothic}" Style="{StaticResource TabItemToggleStyle}" />
                        <TabItem Header="TERN"  Style="{StaticResource TabItemToggleStyle}" />
                    </TabControl>
                </StackPanel>

                <!-- 🧹 Clear button (top-right corner) -->
                <Button Grid.Column="1"
                        Margin="0,20"
                        Width="36" Height="36"
                        ToolTip="Clear"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="BtnClean_Click">
                        <components:Clear/>
                </Button>
            </Grid>

            <!-- Content area: host BTMC and TERN UserControls -->
            <Grid Grid.Row="2" Margin="10,-20,10,0">
                <btmc:BTMC x:Name="BtmcControl" Visibility="Visible"/>
                <tern:TERN x:Name="TernControl" Visibility="Collapsed"/>
                <!--<tern:TERN x:Name="TernControl" Visibility="Collapsed"/>-->
                <!--<btmc:BTMC x:Name="BtmcControl" Visibility="Visible"/>-->
            </Grid>
        </Grid>
    </Border>
</Window>